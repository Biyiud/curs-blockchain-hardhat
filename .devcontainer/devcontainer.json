// .devcontainer/devcontainer.json
{
    "name": "Curs Blockchain Hardhat", // Nom que apareixerà al Codespace
  
    // Utilitza una imatge de contenidor pre-construïda amb Node.js (més ràpid)
    // Pots trobar imatges amb Node.js a Docker Hub o utilitzar les de Microsoft
    // "mcr.microsoft.com/devcontainers/universal:latest" és una bona opció amb moltes eines preinstal·lades
    "image": "mcr.microsoft.com/devcontainers/universal:latest",
    // O si vols una imatge més lleugera només amb Node:
    // "image": "mcr.microsoft.com/devcontainers/javascript-node:latest",
  
  
    // Comandes que s'executaran AUTOMÀTICAMENT en crear el contenidor
    // npm install és el més important aquí per instal·lar les dependències del projecte
    "postCreateCommand": "npm install",
  
    // Comandes que s'executaran CADA VEGADA que s'inicia el Codespace
    // Utilitza-ho per mostrar instruccions o obrir fitxers
    "postStartCommand": "echo '##############################################################' && echo '# Benvingut al teu entorn de desenvolupament Blockchain!     #' && echo '# 1. Revisa el contracte a contracts/Token.sol               #' && echo '# 2. Obre la terminal (Ctrl+`)                               #' && echo '# 3. Desplega el contracte (copia l\'adreça):                 #' && echo '#    npx hardhat run scripts/deploy.js                       #' && echo '# 4. Edita scripts/interact.js amb l\'adreça del contracte.   #' && echo '# 5. Interactua amb el contracte:                            #' && echo '#    npx hardhat run scripts/interact.js                     #' && echo '##############################################################' && code README.md || true && code contracts/Token.sol || true && code scripts/deploy.js || true && code scripts/interact.js || true",
  
  
    // Configuració específica de VS Code dins del Codespace
    "customizations": {
      "vscode": {
        "extensions": [
          "NomicFoundation.hardhat-solidity" // Recomana l'extensió de Solidity
          // Pots afegir altres extensions útils (eslinter, prettier, etc.)
        ]
      }
    },
  
    // Ports que es podrien exposar (no necessari per a Hardhat Network local)
    // "forwardPorts": [8545], // Port per defecte de Hardhat Network
    // "portsAttributes": {
    //   "8545": {
    //     "label": "Hardhat Network RPC",
    //     "onAutoForward": "ignore"
    //   }
    // },
  
    // Opcions de Docker (no solen ser necessàries per a casos bàsics)
    // "remoteUser": "codespace" // Utilitza l'usuari per defecte de codespaces
  
  }